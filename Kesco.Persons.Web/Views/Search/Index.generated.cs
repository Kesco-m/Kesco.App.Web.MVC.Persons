#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.36400
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    
    #line 6 "..\..\Views\Search\Index.cshtml"
    using System.Text.RegularExpressions;
    
    #line default
    #line hidden
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 4 "..\..\Views\Search\Index.cshtml"
    using Kesco.Persons.Web;
    
    #line default
    #line hidden
    
    #line 5 "..\..\Views\Search\Index.cshtml"
    using Kesco.Persons.Web.Models;
    
    #line default
    #line hidden
    
    #line 3 "..\..\Views\Search\Index.cshtml"
    using Kesco.Web.Mvc;
    
    #line default
    #line hidden
    
    #line 2 "..\..\Views\Search\Index.cshtml"
    using Resources;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/Search/Index.cshtml")]
    public partial class _Views_Search_Index_cshtml : Kesco.Persons.Web.SiteViewPage<Kesco.Persons.Web.Models.SearchViewModel>
    {
        public _Views_Search_Index_cshtml()
        {
        }
        public override void Execute()
        {







            
            #line 7 "..\..\Views\Search\Index.cshtml"
  
	Model
		.GetScriptCapabilities()
			.DisableTreeScript();
	ViewBag.Title = Resources.Persons_Search_PageTitle;
	Layout = "~/Views/Shared/_Layout.cshtml";

	SearchResultViewModel gridModel = new SearchResultViewModel();

    /* Ищем в URL параметр hideOldVer, пишем его в сессию. Требуется для скрытия кнопки "Открыть в старой версии"  */
    string hideOldVerRequest = HttpContext.Current.Request["hideOldVer"];
    var hideOldVerSession = HttpContext.Current.Session["hideOldVer"];
    string hideOldVer = "false";

    if (!String.IsNullOrEmpty(hideOldVerRequest))
    {
        HttpContext.Current.Session["hideOldVer"] = hideOldVer = hideOldVerRequest;
    }
    else if (hideOldVerSession != null)
    {
        hideOldVer = hideOldVerSession.ToString();
    }


            
            #line default
            #line hidden

DefineSection("Header", () => {

WriteLiteral(@"
	<style>
		#searchResultGrid { cursor: pointer !important; }
	</style>
	<div id=""toolBar"" class=""ui-widget-header ui-corner-all kui-toolbar""
		style=""padding: 2px;""
		data-bind=""visible: PageLoaded"">
		<table cellspacing=""0"" cellpadding=""0"" border=""0"" style=""margin-top: -2px;"" width=""100%"">
		<tr valign=""middle"">
			<td >&nbsp;
				<button type=""button"" data-bind=""
						enabled: !Processing,
						jqueryui: { widget: 'button', options : { icons: { primary: 'ui-icon-cancel' } } },
						click: closeDialog,
						visible: ViewModel.showReturnButton""
					>");


            
            #line 45 "..\..\Views\Search\Index.cshtml"
  Write(Kesco.Web.Mvc.UI.Controls.Localization.Resources.KescoTreeView_DialogButton_Cancel);

            
            #line default
            #line hidden
WriteLiteral("</button>\r\n\t\t\t\t<button type=\"button\" data-bind=\"\r\n\t\t\t\t\t\tenabled: !Processing,\r\n\t\t" +
"\t\t\t\tjqueryui: { widget: \'button\', options : { icons: { primary: \'ui-icon-home\' }" +
" } },\r\n\t\t\t\t\t\tclick: newJuridical\"\r\n\t\t\t\t\t>");


            
            #line 50 "..\..\Views\Search\Index.cshtml"
  Write(Resources.Kesco_Persons_Web_VW_140);

            
            #line default
            #line hidden
WriteLiteral("</button>\r\n\t\t\t\t<button type=\"button\" data-bind=\"\r\n\t\t\t\t\t\tenabled: !Processing,\r\n\t\t" +
"\t\t\t\tjqueryui: { widget: \'button\', options : { icons: { primary: \'ui-icon-person\'" +
" } } },\r\n\t\t\t\t\t\tclick: newIndividual\"\r\n\t\t\t\t\t>");


            
            #line 55 "..\..\Views\Search\Index.cshtml"
  Write(Resources.Kesco_Persons_Web_VW_134);

            
            #line default
            #line hidden
WriteLiteral("</button>\r\n\t\t\t</td>\r\n\t\t\t<td nowrap=\"nowrap\" style=\"width: 60px;\">\r\n\t\t\t\t");


            
            #line 58 "..\..\Views\Search\Index.cshtml"
Write(Html.Partial("ThemeRoller"));

            
            #line default
            #line hidden
WriteLiteral("\r\n\t\t\t</td>\r\n\t\t\t<td nowrap=\"nowrap\" style=\"width: 30px;\">\r\n\t\t\t\t<button type=\"butto" +
"n\" style=\"display: none;\"\r\n\t\t\t\t\t\tdata-bind=\"jqueryui: { widget: \'button\', option" +
"s: { text: false, icons: { primary: \'ui-icon-help\' }}}, click: showHelp\"\r\n\t\t\t\t\t>" +
"");


            
            #line 63 "..\..\Views\Search\Index.cshtml"
  Write(Kesco.Web.Mvc.UI.Controls.Localization.Resources.GUI_Menu_Help);

            
            #line default
            #line hidden
WriteLiteral("</button>\r\n\t\t\t</td>\r\n\r\n\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n");


});

WriteLiteral("\r\n\r\n\r\n<div id=\"container\" style=\"overflow: auto;\">\r\n\r\n");


            
            #line 74 "..\..\Views\Search\Index.cshtml"
Write(Html.CommonScriptCode("Persons_Search1",
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

            
            #line default
            #line hidden

WriteLiteralTo(@__razor_template_writer, "<script>\r\n\t\tfunction joinIntArray(arr) {\r\n\t\t\tvar result = 0;\r\n\t\t\r\n\t\t\tfor (var i =" +
" 0; i < arr.length; i++)\r\n\t\t\t\tresult += parseInt(arr[i]);\r\n\r\n\t\t\treturn result;\r\n" +
"\t\t}\r\n\r\n\t\tfunction getLinkType(typeId)\r\n\t\t{\r\n\t\t\tvar ret = \"");


            
            #line 87 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, Resources.Kesco_Persons_Search_1004);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\";\r\n\t\t\tswitch(typeId)\r\n\t\t\t{\r\n\t\t\tcase \"1\":   ret = \"");


            
            #line 90 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, Resources.Kesco_Persons_Search_1005);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\"; break;\r\n\t\t\tcase \"2\":   ret = \"");


            
            #line 91 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, Resources.Kesco_Persons_Search_1006);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\"; break;\r\n\t\t\tcase \"21\":\tret = \"");


            
            #line 92 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, Resources.Kesco_Persons_Search_1007);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\"; break;\r\n\t\t\tcase \"22\":\tret = \"");


            
            #line 93 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, Resources.Kesco_Persons_Search_1008);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\"; break;\r\n\t\t\tcase \"31\":\tret = \"");


            
            #line 94 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, Resources.Kesco_Persons_Search_1009);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\"; break;\r\n\t\t\tcase \"32\":\tret = \"");


            
            #line 95 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, Resources.Kesco_Persons_Search_1010);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\"; break;\r\n\t\t\tcase \"41\":\tret = \"");


            
            #line 96 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, Resources.Kesco_Persons_Search_1011);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\"; break;\r\n\t\t\tcase \"42\":\tret = \"");


            
            #line 97 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, Resources.Kesco_Persons_Search_1012);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\"; break;\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t}\r\n\r\n\t\tfunction extractPropertyAsArray(objectA" +
"rray, property) {\r\n\t\t\tvar arr = [];\r\n\t\t\tif ($.isArray(objectArray)) {\r\n\t\t\t\tfor (" +
"var i = 0; i < objectArray.length; i++) {\r\n\t\t\t\t\tarr.push(objectArray[i][property" +
"]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}\r\n\r\n\t\tfunction prepareParams() {\r\n\t\t\tvar fi" +
"lterSettings = ko.mapping.toJS(ViewModel.filterSettings);\r\n\r\n\t\t\tViewModel.Params" +
".PersonWhereSearch(joinIntArray(ko.toJS(filterSettings.PersonWhereSearch.Value))" +
");\r\n\t\t\tViewModel.Params.PersonHowSearch(filterSettings.PersonHowSearch.Value);\r\n" +
"\t\t\tViewModel.Params.PersonType(joinIntArray(ko.toJS(filterSettings.PersonType.Va" +
"lue)));\r\n\t\t\tViewModel.Params.PersonCheck(joinIntArray(ko.toJS(filterSettings.Ver" +
"acity.Value)));\r\n\t\t\tViewModel.Params.PersonOPForma(filterSettings.PersonOPForma." +
"Value);\r\n\t\t\tViewModel.Params.PersonArea(filterSettings.PersonArea.Value == 0 ? \"" +
"\" : filterSettings.PersonArea.Value);\r\n\t\t\t\t\r\n\t\t\tif (filterSettings.BusinessProje" +
"ct.Enable) {\r\n\t\t\t\tViewModel.Params.PersonBProject(filterSettings.BusinessProject" +
".Value == 0 ? \"\" : filterSettings.BusinessProject.Value);\r\n\t\t\t\tViewModel.Params." +
"PersonSubBProject(filterSettings.BusinessProject.SubBProject ? 1 : 0);\r\n\t\t\t\tView" +
"Model.Params.PersonAllBProject(filterSettings.BusinessProject.AllBProject ? 1 : " +
"0);\r\n\t\t\t} else {\r\n\t\t\t\tViewModel.Params.PersonBProject(\"\");\r\n\t\t\t    ViewModel.Par" +
"ams.PersonSubBProject(0);\r\n\t\t\t    ViewModel.Params.PersonAllBProject(0);\r\n\t\t\t}\r\n" +
"\r\n\t\t\tvar users = extractPropertyAsArray(filterSettings.PersonUsers.List, \"ID\");\r" +
"\n\t\t\tvar themes = extractPropertyAsArray(filterSettings.PersonThemes.List, \"ID\");" +
"\r\n\r\n\t\t\tViewModel.Params.PersonUsers(users.join(\",\"));\r\n\t\t\tViewModel.Params.Perso" +
"nThemes(themes.join(\",\"));\r\n\t\t\tViewModel.Params.PersonSubThemes(filterSettings.P" +
"ersonThemes.Subthemes ? 1 : 0);\r\n\t\t}\r\n\r\n\t\tfunction DoSearch() {\r\n\t\t\tvar $form = " +
"$(\"#SearchForm\");\r\n\t\t\t//if ($form.valid()) {\r\n\t\t\t\t");



WriteLiteralTo(@__razor_template_writer, "\r\n\t\t\t\tvar searchParameters = {};\r\n\t\t\t\tsearchParameters.execute = 1;\r\n\r\n\t\t\t\tvar fi" +
"lterSettings = ko.mapping.toJS(ViewModel.filterSettings);\r\n\t\t\t\tvar users = extra" +
"ctPropertyAsArray(filterSettings.PersonUsers.List, \"ID\");\r\n\t\t\t\tvar themes = extr" +
"actPropertyAsArray(filterSettings.PersonThemes.List, \"ID\");\r\n\t\t\t\t\r\n\t\t\t\tsearchPar" +
"ameters.PersonWhereSearch = (filterSettings.PersonWhereSearch.Enable) ? joinIntA" +
"rray(ko.toJS(filterSettings.PersonWhereSearch.Value)) : null;\r\n\t\t\t\tsearchParamet" +
"ers.PersonHowSearch = (filterSettings.PersonHowSearch.Enable) ? ko.toJS(filterSe" +
"ttings.PersonHowSearch.Value) : null;\r\n\t\t\t\tsearchParameters.Search = ko.toJS(fil" +
"terSettings.Search.Value);\r\n\r\n\t\t\t\tsearchParameters.PersonType = (filterSettings." +
"PersonType.Enable) ? joinIntArray(ko.toJS(filterSettings.PersonType.Value)) : nu" +
"ll;\r\n\t\t\t\tsearchParameters.PersonCheck = (filterSettings.Veracity.Enable) ? joinI" +
"ntArray(ko.toJS(filterSettings.Veracity.Value)) : null;\r\n\t\t\t\t\r\n\t\t\t\tsearchParamet" +
"ers.PersonOPForma = (filterSettings.PersonOPForma.Enable) ? (filterSettings.Pers" +
"onOPForma.Value ? filterSettings.PersonOPForma.Value : 0) : null;\r\n\t\t\t\tsearchPar" +
"ameters.PersonArea = (filterSettings.PersonArea.Enable) ? ko.toJS((filterSetting" +
"s.PersonArea.Value == \'\' || filterSettings.PersonArea.Value == null)? \'0\' : filt" +
"erSettings.PersonArea.Value) : null;\r\n\r\n\t\t\t\tif (filterSettings.PersonTUnion.Valu" +
"e.length > 0)\r\n\t\t\t\t\tsearchParameters.PersonTUnion = (filterSettings.PersonTUnion" +
".Value == \"0\" ? 0 : 1);\r\n\t\t\t\t\r\n\t\t\t\tif (filterSettings.PersonLink.Value.length > " +
"0) {\r\n\t\t\t\t\tsearchParameters.PersonLink = filterSettings.PersonLink.Value;\r\n\t\t\t\t}" +
"\r\n\t\t\t\t\r\n\t\t\t\tif (filterSettings.PersonLinkType.Value.length > 0) {\r\n\t\t\t\t\tsearchPa" +
"rameters.PersonLinkType = filterSettings.PersonLinkType.Value;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t" +
"\tif (filterSettings.BusinessProject.Enable) {\r\n\t\t\t\t\tsearchParameters.PersonBProj" +
"ect = ko.toJS(filterSettings.BusinessProject.Value);\r\n\t\t\t\t\tsearchParameters.Pers" +
"onSubBProject = (filterSettings.BusinessProject.SubBProject ? 1 : 0);\r\n\t\t\t\t\tsear" +
"chParameters.PersonAllBProject = (filterSettings.BusinessProject.AllBProject ? 1" +
" : 0);\r\n\t\t\t\t} else {\r\n\t\t\t\t    searchParameters.PersonBProject = \"\";\r\n\t\t\t        " +
"searchParameters.PersonSubBProject = 0;\r\n\t\t\t        searchParameters.PersonAllBP" +
"roject = \"\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsearchParameters.PersonUsers = (filterSettings.Person" +
"Users.Enable) ? (users.join(\",\") == \'\' ? \' \' : users.join(\",\")) : \'\';\r\n\t\t\t\t//ale" +
"rt(\"\'\" + searchParameters.PersonUsers + \"\'\");\r\n\r\n\t\t\t\tsearchParameters.PersonThem" +
"es = (filterSettings.PersonThemes.Enable) ? (themes.join(\",\") == \'\' ? \' \' : them" +
"es.join(\",\")) : \'\';\r\n\t\t\t\tsearchParameters.PersonSubThemes = (filterSettings.Pers" +
"onThemes.Enable) ? (filterSettings.PersonThemes.Subthemes ? 1 : 0) : null;\r\n\t\t\t\t" +
"\r\n\t\t\t\tif (filterSettings.PersonForSend.Value.length > 0) {\r\n\t\t\t\t\tsearchParameter" +
"s.PersonForSend = filterSettings.PersonForSend.Value;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (filt" +
"erSettings.PersonAdvSearch.Value.length > 0) {\r\n\t\t\t\t\tsearchParameters.PersonAdvS" +
"earch = filterSettings.PersonAdvSearch.Value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//searchParameters.P" +
"ersonSelectTop = filterSettings.PersonSelectTop.Value\r\n\r\n\t\t\t\t");



WriteLiteralTo(@__razor_template_writer, "\r\n\t\t\t\t//prepareParams();\r\n\t\t\t\t");



WriteLiteralTo(@__razor_template_writer, @"

				$(""#searchResultGrid"")
					.jqGrid('setGridParam', { postData: searchParameters })
					.trigger('reloadGrid', [{ page: 1}]);
			//}
			return false;
		}

		$(document).ready(function () {
			var $container = $(""#container"");
			var resizeContainer = function () {
				var $parent = $container.parent();
				$container.height($parent.height() - 2);
				$container.width($parent.width() - 2);
			};
			$(window).resize(resizeContainer);


			$(document).on(""jqGridLoadComplete"", function() {
				if(window.console) console.log(""Event: jqGridLoadComplete. Args"", arguments);
			});
			$(""#SearchForm"").submit(DoSearch);

			");



WriteLiteralTo(@__razor_template_writer, "\r\n\t\t\tViewModel.IncorporationForms.unshift({ID:null, Name:\'");


            
            #line 225 "..\..\Views\Search\Index.cshtml"
                        WriteTo(@__razor_template_writer, Resources.Kesco_Persons_Web_VW_125);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, @"'});



            function getParameterByName(name) {
                name = name.replace(/[\[]/, ""\\["").replace(/[\]]/, ""\\]"");
            var regex = new RegExp(""[\\?&]"" + name + ""=([^&#]*)""),
                results = regex.exec(location.search);
            return results === null ? """" : decodeURIComponent(results[1].replace(/\+/g, "" ""));
            }
            var PersonAllBProject = getParameterByName('PersonAllBProject');
		    

		    if(PersonAllBProject != null && PersonAllBProject != """") {
		        $('#BusinessProject_checkBox').enable(false);
		        $('#AllBProject_checkBox').enable(false);
		        window.ViewModel.filterSettings.BusinessProject.Editable(false);
		    }
		    
            //window.ViewModel.filterSettings.BusinessProject.AllBProject.subscribe

		});
</script>");


            
            #line 247 "..\..\Views\Search\Index.cshtml"
       })));

            
            #line default
            #line hidden
WriteLiteral("\r\n");


            
            #line 248 "..\..\Views\Search\Index.cshtml"
  	 Html.EnableClientValidation(); 

            
            #line default
            #line hidden

            
            #line 249 "..\..\Views\Search\Index.cshtml"
 	using (Html.BeginForm("Execute", "Search", FormMethod.Post, new { id = "SearchForm" }))
	{

            
            #line default
            #line hidden
WriteLiteral(@"		<div id=""searchQuery"">
			<table cellspacing=""0"" cellpadding=""0"" width=""100%"" border=""0"">
				<tr>
					<td style=""WIDTH: 5px"">
						<fieldset data-bind=""disable: !filterSettings.PersonWhereSearch.Editable()"">
							<table cellspacing=""0"" cellpadding=""0"">
								<tr><td nowrap=""nowrap"">
										<input id=""WhereSearch1"" type=""checkbox"" value=""1"" data-bind=""
									checked: filterSettings.PersonWhereSearch.Value""/>
										");


            
            #line 260 "..\..\Views\Search\Index.cshtml"
      Write(Resources.Kesco_Persons_Web_VW_103);

            
            #line default
            #line hidden
WriteLiteral("\r\n\t\t\t\t\t\t\t\t\t</td></tr>\r\n\t\t\t\t\t\t\t\t<tr><td nowrap=\"nowrap\">\r\n\t\t\t\t\t\t\t\t\t\t<input id=\"Whe" +
"reSearch2\" type=\"checkbox\" value=\"2\" data-bind=\"\r\n\t\t\t\t\t\t\t\t\tchecked: filterSettin" +
"gs.PersonWhereSearch.Value\"/>\r\n\t\t\t\t\t\t\t\t\t\t");


            
            #line 265 "..\..\Views\Search\Index.cshtml"
      Write(Resources.Kesco_Persons_Web_VW_104);

            
            #line default
            #line hidden
WriteLiteral("\r\n\t\t\t\t\t\t\t\t\t</td></tr>\r\n\t\t\t\t\t\t\t\t<tr><td nowrap=\"nowrap\">\r\n\t\t\t\t\t\t\t\t\t\t<input id=\"Whe" +
"reSearch3\" type=\"checkbox\" value=\"4\" data-bind=\"\r\n\t\t\t\t\t\t\t\t\tchecked: filterSettin" +
"gs.PersonWhereSearch.Value\"/>\r\n\t\t\t\t\t\t\t\t\t\t");


            
            #line 270 "..\..\Views\Search\Index.cshtml"
      Write(Resources.Kesco_Persons_Web_VW_105);

            
            #line default
            #line hidden
WriteLiteral(@"
									</td></tr>
							</table>
						</fieldset>
					</td>
					<td style=""BORDER-RIGHT: darkgray 1px solid; WIDTH: 1px"">&nbsp;</td>
					<td style=""WIDTH: 5px"">
						<fieldset data-bind=""disable: !filterSettings.PersonHowSearch.Editable()"">
							<table cellspacing=""0"" cellpadding=""0"" border=""0"" style=""border-collapse:collapse;"">
								<tr><td nowrap=""nowrap"">
										<input id=""HowSearch0"" type=""radio"" name=""HowSearch"" data-bind=""
									checkedValue:1, checked:filterSettings.PersonHowSearch.Value""/>
										<label for=""HowSearch0"">");


            
            #line 282 "..\..\Views\Search\Index.cshtml"
                              Write(Resources.Kesco_Persons_Web_VW_106);

            
            #line default
            #line hidden
WriteLiteral("</label>\r\n\t\t\t\t\t\t\t\t\t</td></tr>\r\n\t\t\t\t\t\t\t\t<tr><td nowrap=\"nowrap\">\r\n\t\t\t\t\t\t\t\t\t\t<input" +
" id=\"HowSearch1\" type=\"radio\" name=\"HowSearch\" data-bind=\"\r\n\t\t\t\t\t\t\t\t\tcheckedValu" +
"e:2, checked: filterSettings.PersonHowSearch.Value\"/>\r\n\t\t\t\t\t\t\t\t\t\t<label for=\"How" +
"Search1\">");


            
            #line 287 "..\..\Views\Search\Index.cshtml"
                              Write(Resources.Kesco_Persons_Web_VW_107);

            
            #line default
            #line hidden
WriteLiteral(@"</label>
									</td></tr>
							</table>
						</fieldset>
					</td>
					<td style=""BORDER-RIGHT: darkgray 1px solid; WIDTH: 1px"">&nbsp;</td>
					<td style=""WIDTH: 220px"" nowrap=""nowrap"">
						<input name=""filterSettingsSearchValue"" id=""filterSettingsSearchValue"" data-bind=""value: filterSettings.Search.Value, decoration: true"" />
					</td>
					<td nowrap=""nowrap"">&nbsp;&nbsp;<button type=""submit"" data-bind=""
						click: function() { DoSearch(); },
						enabled: !Processing, 
						jqueryui: {widget: 'button', options: { icons: {primary: 'ui-icon-search'}}}
					"">");


            
            #line 300 "..\..\Views\Search\Index.cshtml"
   Write(Resources.Kesco_Persons_Web_VW_108);

            
            #line default
            #line hidden
WriteLiteral("</button></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t\t");


            
            #line 303 "..\..\Views\Search\Index.cshtml"
Write(Html.ValidationSummary());

            
            #line default
            #line hidden
WriteLiteral("\r\n\t\t\t<hr/>\r\n\t\t</div>\r\n");


            
            #line 306 "..\..\Views\Search\Index.cshtml"
		
            
            #line default
            #line hidden
            
            #line 306 "..\..\Views\Search\Index.cshtml"
Write(Html.CommonScriptCode("Persons_Search2",
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

            
            #line default
            #line hidden

WriteLiteralTo(@__razor_template_writer, "\t\t");

WriteLiteralTo(@__razor_template_writer, "<script>\r\n\t\t\t");



WriteLiteralTo(@__razor_template_writer, @"
			(function(window, undefined) {
				ViewModel.disableFilterSettings = function() {
					if(this.filterSettings.PersonWhereSearch.Editable())	this.filterSettings.PersonWhereSearch.Value([""1""]);
					if(this.filterSettings.PersonHowSearch.Editable())		this.filterSettings.PersonHowSearch.Value(1);
					if(this.filterSettings.Search.Editable())				this.filterSettings.Search.Value("""");
					if(this.filterSettings.PersonType.Editable())			this.filterSettings.PersonType.Enable(false);
					if(this.filterSettings.Veracity.Editable())				this.filterSettings.Veracity.Enable(false);
					if(this.filterSettings.BusinessProject.Editable())		this.filterSettings.BusinessProject.Enable(false);
					if(this.filterSettings.PersonArea.Editable())			this.filterSettings.PersonArea.Enable(false);
					if(this.filterSettings.PersonOPForma.Editable())		this.filterSettings.PersonOPForma.Enable(false);
					if(this.filterSettings.PersonUsers.Editable())			this.filterSettings.PersonUsers.Enable(false);
					if(this.filterSettings.PersonThemes.Editable())			this.filterSettings.PersonThemes.Enable(false);

					//DoSearch();
				};

				");



WriteLiteralTo(@__razor_template_writer, "\r\n");


            
            #line 326 "..\..\Views\Search\Index.cshtml"
  				
					string url = Configuration.AppSettings.URI_person_search_old + Request.Url.Query;
					url = Regex.Replace( Regex.Replace(url, "[?]search=[^&]*(&|$)", "?", RegexOptions.IgnoreCase), "&search=[^&]*(&|$)", "&", RegexOptions.IgnoreCase);
				

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\t\t\t\tViewModel.prevVersionUrl =  window.ko.computed(function () {\r\n\t\t\t\t\treturn \"");


            
            #line 331 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, Html.Raw(url));

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\" + (window.ViewModel.filterSettings.Search.Value() == \"\" ? \"\" : \"");


            
            #line 331 "..\..\Views\Search\Index.cshtml"
                                                               WriteTo(@__razor_template_writer, Html.Raw(Request.Url.Query!="" ? "&" : "?"));

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "search=\" + window.ViewModel.filterSettings.Search.Value());\r\n\t\t\t\t}, window.ViewMo" +
"del);\r\n\r\n\t\t\t\tViewModel.hasRolesForBProject = ViewModel.HasRolesForBProject().len" +
"gth > 0 ? true : false;\r\n\r\n\t\t\t\tViewModel.pValidAt = window.ko.computed(function " +
"() {\r\n\t\t\t\t\tvar str0 = this.filterSettings.PersonValidAt.Value().toString();\r\n\r\n\t" +
"\t\t\t\tif (str0.length) {\r\n\t\t\t\t\t\tvar d = new Date();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar rex = /\\d{4" +
"}-\\d{2}-\\d{2}/;\r\n\t\t\t\t\t\tvar rex2 = /\\d{4}\\d{2}\\d{2}/;\r\n\t\t\t\t\t\tvar rex3 = /\\d{2}.\\d" +
"{2}.\\d{4}/;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tif (str0.match(rex)) { // 1999-12-31\r\n\t\t\t\t\t\t\td.setYear" +
"(str0.substr(0, 4));\r\n\t\t\t\t\t\t\td.setUTCMonth(str0.substr(5, 2));\r\n\t\t\t\t\t\t\td.setUTCM" +
"onth(d.getUTCMonth()-1);\r\n\t\t\t\t\t\t\td.setUTCDate(str0.substr(8, 2));\r\n\t\t\t\t\t\t} else " +
"if (str0.match(rex2)) {// 19991231\r\n\t\t\t\t\t\t\td.setYear(str0.substr(0, 4));\r\n\t\t\t\t\t\t" +
"\td.setUTCMonth(str0.substr(4, 2));\r\n\t\t\t\t\t\t\td.setUTCMonth(d.getUTCMonth()-1);\r\n\t\t" +
"\t\t\t\t\td.setUTCDate(str0.substr(6, 2));\r\n\t\t\t\t\t\t} else if (str0.match(rex3)) {// 31" +
".12.1999\r\n\t\t\t\t\t\t\td.setYear(str0.substr(6, 4));\r\n\t\t\t\t\t\t\td.setUTCMonth(str0.substr" +
"(3, 2));\r\n\t\t\t\t\t\t\td.setUTCMonth(d.getUTCMonth()-1);\r\n\t\t\t\t\t\t\td.setUTCDate(str0.sub" +
"str(0, 2));\r\n\t\t\t\t\t\t} else if (str0.substr(2, 1) == \"/\" && str0.substr(3, 1) == \"" +
"/\" && str0.substr(0, 2).match(/\\d{2}/) && str0.substr(3, 2).match(/\\d{2}/) && st" +
"r0.substr(6, 4).match(/\\d{4}/)) { // 31/12/1999\r\n\t\t\t\t\t\t\td.setYear(str0.substr(6," +
" 4));\r\n\t\t\t\t\t\t\td.setUTCMonth(str0.substr(3, 2));\r\n\t\t\t\t\t\t\td.setUTCMonth(d.getUTCMo" +
"nth()-1);\r\n\t\t\t\t\t\t\td.setUTCDate(str0.substr(0, 2));\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\treturn " +
"\"\";\r\n\r\n\t\t\t\t\t\treturn d.toLocaleDateString();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn \"\";\r\n\t\t\t\t}, win" +
"dow.ViewModel);\r\n\r\n\t\t\t\tViewModel.removeResponsibleEmployee = function() {\r\n\t\t\t\t\t" +
"ViewModel.filterSettings.PersonUsers.List.remove(this);\r\n\t\t\t\t};\r\n\r\n\t\t\t\tViewModel" +
".removeThemes = function() {\r\n\t\t\t\t\tViewModel.filterSettings.PersonThemes.List.re" +
"move(this);\r\n\t\t\t\t};\r\n\r\n\t\t\t\tViewModel.openChooseEmployeesDialog = function() {\r\n\t" +
"\t\t\t\tvar selected = [];\r\n\t\t\t\t\tvar list = ko.toJS(ViewModel.filterSettings.PersonU" +
"sers.List());\r\n\t\t\t\t\tfor(var i=0; i<list.length; i++) {\r\n\t\t\t\t\t\tselected[i] = list" +
"[i].ID.toString();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tselected = selected.join(\",\");\r\n\t\t\t\t\tvar callba" +
"ckUrl = encodeURIComponent(\'");


            
            #line 389 "..\..\Views\Search\Index.cshtml"
           WriteTo(@__razor_template_writer, Url.FullPathAction("DialogResult", "Default"));

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\');\r\n\t\t\t\t\tvar title = encodeURIComponent(\'");


            
            #line 390 "..\..\Views\Search\Index.cshtml"
     WriteTo(@__razor_template_writer, Resources.Kesco_Persons_Web_VW_1000);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\');\r\n\t\t\t\t\tvar url;\r\n\t\t\t\t\turl = \'");


            
            #line 392 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, Configuration.AppSettings.URI_user_search);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "?");


            
            #line 392 "..\..\Views\Search\Index.cshtml"
                         WriteTo(@__razor_template_writer, Configuration.URI_user_search_QS ?? "t=1");

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, @"&selectedid='+selected;
					url = $.validator.format(url, callbackUrl, title);

					openPopupWindow(url, {
							type: 'GET'
						}, function(result) {
						if ($.isArray(result)) {
							ViewModel.filterSettings.PersonUsers.List.removeAll();
							for(var i=0; i<result.length; i++)
								ViewModel.filterSettings.PersonUsers.List.push({
									ID: ko.observable(result[i].value), 
									FullName: ko.observable(result[i].label)
								});
						}
					}, ""wnd_ChooseEmployees"", 800, 600);
				};

				ViewModel.openChooseThemesDialog = function() {
					var selected = [];
					var list = ko.toJS(ViewModel.filterSettings.PersonThemes.List());
					for(var i=0; i<list.length; i++) {
						selected[i] = list[i].ID.toString();
					}
					selected = selected.join("","");
					var callbackUrl = encodeURIComponent('");


            
            #line 416 "..\..\Views\Search\Index.cshtml"
           WriteTo(@__razor_template_writer, Url.FullPathAction("DialogResult", "Default"));

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\');\r\n\t\t\t\t\tvar title = encodeURIComponent(\'");


            
            #line 417 "..\..\Views\Search\Index.cshtml"
     WriteTo(@__razor_template_writer, Resources.Kesco_Persons_Web_VW_1004);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\');\r\n\t\t\t\t\tvar url;\r\n\t\t\t\t\turl = \'");


            
            #line 419 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, Configuration.AppSettings.URI_theme_search);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "?");


            
            #line 419 "..\..\Views\Search\Index.cshtml"
                          WriteTo(@__razor_template_writer, Configuration.URI_theme_search_QS ?? "t=1");

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, @"&selectedid='+selected;
					url = $.validator.format(url, callbackUrl, title);

					openPopupWindow(url, {
							type: 'GET'
						}
						, function(result) {
						if ($.isArray(result)) {
							ViewModel.filterSettings.PersonThemes.List.removeAll();
							for(var i=0; i<result.length; i++)
								ViewModel.filterSettings.PersonThemes.List.push({
									ID: ko.observable(result[i].value), 
									Name: ko.observable(result[i].label)
								});
						}
					}, ""wnd_ChooseThemes"", 800, 600);
				};

				var params = '");


            
            #line 437 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, Request["return"]=="1"?"?return=1":"?t=1");

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\';\r\n\r\n\t\t\t\t\r\n\t\t\t\tViewModel.newIndividual = function() {\r\n\t\t\t\t\tvar callbackUrl = en" +
"codeURIComponent(\'");


            
            #line 441 "..\..\Views\Search\Index.cshtml"
          WriteTo(@__razor_template_writer, Url.FullPathAction("DialogResult", "Default"));

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\');\r\n\t\t\t\t\tvar url = \'");


            
            #line 442 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, Url.Action("Index", "Natural"));

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\' \r\n\t\t\t\t\t\t+ params \r\n\t\t\t\t\t\t+ \"&text=\" + encodeURIComponent(ViewModel.filterSettin" +
"gs.Search.Value())\r\n\t\t\t\t\t\t+ \"&callbackUrl=\" + callbackUrl\r\n\t\t\t\t\t    + \"&hideOldV" +
"er=\" + \'");


            
            #line 446 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, hideOldVer);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, @"';
					openPopupWindow(url, null, function (result) {
						var dialogResult = """";
						var record = null;
						if ($.isArray(result)) {
							record = result[0];

							dialogResult = [];
							dialogResult.push(record);
							dialogResult = JSON.stringify(dialogResult);
						}
");


            
            #line 457 "..\..\Views\Search\Index.cshtml"
 						if (Request["return"]=="1") {
							if (Request["control"] != null) { 

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\t\t\t\t\t\t\t\t");

WriteLiteralTo(@__razor_template_writer, " closeDialogAndReturnValue(dialogResult);\r\n");


            
            #line 460 "..\..\Views\Search\Index.cshtml"
							} else {

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\t\t\t\t\t\t\t\t");

WriteLiteralTo(@__razor_template_writer, " var retVal = (record == null)?\"\":(record.value + String.fromCharCode(31) + recor" +
"d.label);\r\n");



WriteLiteralTo(@__razor_template_writer, "\t\t\t\t\t\t\t\t");

WriteLiteralTo(@__razor_template_writer, " DialogPageReturn(retVal, 0);\r\n");


            
            #line 463 "..\..\Views\Search\Index.cshtml"
							}
						} else
                        {

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\t\t\t\t\t\t\t");

WriteLiteralTo(@__razor_template_writer, " if (record != null) ViewModel.showPerson(record.value);\r\n");


            
            #line 467 "..\..\Views\Search\Index.cshtml"
						}

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\t\t\t\t\t}, \"wnd_NewIndividual\", 740, 700);\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tViewModel.newJuridical" +
" = function() {\r\n\t\t\t\t\topenPopupWindow(\'");


            
            #line 472 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, Url.Action("Index", "Juridical"));

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\' + params \r\n\t\t\t\t\t    + \"&text=\" + encodeURIComponent(ViewModel.filterSettings.Se" +
"arch.Value())\r\n\t\t\t\t\t    + \"&hideOldVer=\" + \'");


            
            #line 474 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, hideOldVer);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, @"', null, function (result) {
						var dialogResult = """";
						var record = """";
						if (result) {
							record = result[0];
							dialogResult = [];
							dialogResult.push(record);
							dialogResult = JSON.stringify(dialogResult);
						}
");


            
            #line 483 "..\..\Views\Search\Index.cshtml"
 						if (Request["return"]=="1") {
							if (Request["control"] != null) { 

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\t\t\t\t\t\t\t\t");

WriteLiteralTo(@__razor_template_writer, " closeDialogAndReturnValue(dialogResult);\r\n");


            
            #line 486 "..\..\Views\Search\Index.cshtml"
							} else {

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\t\t\t\t\t\t\t\t");

WriteLiteralTo(@__razor_template_writer, " var retVal = (record == null)?\"\":(record.value + String.fromCharCode(31) + recor" +
"d.label);\r\n");



WriteLiteralTo(@__razor_template_writer, "\t\t\t\t\t\t\t\t");

WriteLiteralTo(@__razor_template_writer, " DialogPageReturn(retVal, 0);\r\n");


            
            #line 489 "..\..\Views\Search\Index.cshtml"
							}
						} else {

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\t\t\t\t\t\t\t");

WriteLiteralTo(@__razor_template_writer, " if (record != null) ViewModel.showPerson(record.value);\r\n");


            
            #line 492 "..\..\Views\Search\Index.cshtml"
						}

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\t\t\t\t\t}, \"wnd_NewJuridical\", 800, 600);\r\n\t\t\t\t};\r\n\r\n\t\t\t\tViewModel.showReturnButton " +
"= ");


            
            #line 496 "..\..\Views\Search\Index.cshtml"
 WriteTo(@__razor_template_writer, Request["return"]=="1"?"true":"false");

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, ";\r\n\r\n\t\t\t})(this);\r\n\t\t</script>");


            
            #line 499 "..\..\Views\Search\Index.cshtml"
         })));

            
            #line default
            #line hidden
            
            #line 499 "..\..\Views\Search\Index.cshtml"
            

            
            #line default
            #line hidden
WriteLiteral(@"		<table style=""width: 100%; height: 100%; border: 1px solid silver;"">
			<tr valign=""top"">
				<td style=""width: 300px;""> 
					<div id=""filter"" style=""width:290px; overflow: auto;display: inline-block;"">
					
						<fieldset class=""ui-widget"" data-bind=""
						css: {'ui-state-highlight': filterSettings.PersonType.Enable}, visible: filterSettings.PersonLink.Value().length > 0 || filterSettings.PersonTUnion.Value().length > 0 || ViewModel.pValidAt().length > 0"">
							<legend class=""ui-widget-header"">
								");


            
            #line 508 "..\..\Views\Search\Index.cshtml"
    Write(Resources.Kesco_Persons_Search_1000);

            
            #line default
            #line hidden
WriteLiteral("\r\n\t\t\t\t\t\t\t</legend>\r\n\t\t\t\t\t\t\t<table cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t\t\t\t\t\t\t<tr d" +
"ata-bind=\"visible: filterSettings.PersonValidAt.Value\">\r\n\t\t\t\t\t\t\t\t\t<td data-bind=" +
"\"text: \'");


            
            #line 512 "..\..\Views\Search\Index.cshtml"
                           Write(Resources.Kesco_Persons_Search_1001);

            
            #line default
            #line hidden
WriteLiteral(" \' + ViewModel.pValidAt() + \';\'\"></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<tr data-bind=\"vis" +
"ible: filterSettings.PersonTUnion.Value() == \'1\'\">\r\n\t\t\t\t\t\t\t\t\t<td data-bind=\"text" +
": \'");


            
            #line 515 "..\..\Views\Search\Index.cshtml"
                           Write(Resources.Kesco_Persons_Search_1002);

            
            #line default
            #line hidden
WriteLiteral(";\'\"></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<tr data-bind=\"visible: filterSettings.PersonTU" +
"nion.Value() == \'0\'\">\r\n\t\t\t\t\t\t\t\t\t<td data-bind=\"text: \'");


            
            #line 518 "..\..\Views\Search\Index.cshtml"
                           Write(Resources.Kesco_Persons_Search_1003);

            
            #line default
            #line hidden
WriteLiteral(@";'""></td>
								</tr>
								<tr data-bind=""visible: filterSettings.PersonLink.Value().length > 0"">
									<td data-bind=""text: getLinkType(filterSettings.PersonLinkType.Value()) + ' ' + filterSettings.PersonLinkNickname() + ';'""></td>
								</tr>
							</table>
						</fieldset>

						<fieldset class=""ui-widget"" data-bind=""
						css: {'ui-state-highlight': filterSettings.PersonType.Enable},
						disable: !filterSettings.PersonType.Editable()"">
							<legend class=""ui-widget-header"">
								<table cellpadding=""0"" cellspacing=""0"">
									<tr>
										<td><input type=""checkbox"" title=""");


            
            #line 532 "..\..\Views\Search\Index.cshtml"
                                        Write(Resources.Kesco_Persons_Web_VW_109);

            
            #line default
            #line hidden
WriteLiteral("\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   data-bind=\"checked: filterSettings.PersonType.Enable, disable: " +
"!filterSettings.PersonType.Editable()\"/></td>\r\n\t\t\t\t\t\t\t\t\t\t<td>");


            
            #line 534 "..\..\Views\Search\Index.cshtml"
          Write(Resources.Kesco_Persons_Web_VW_110);

            
            #line default
            #line hidden
WriteLiteral(@"</td>
									</tr>
								</table>
							</legend>
							<table cellpadding=""0"" cellspacing=""0"" data-bind=""visible: filterSettings.PersonType.Enable()"">
								<tr>
									<td><input id=""filterSettingsPersonType1"" name=""filterSettingsPersonType1"" type=""checkbox"" value=""1"" data-bind=""
									enable: filterSettings.PersonType.Enable,
									checked: filterSettings.PersonType.Value"" /></td>
									<td>");


            
            #line 543 "..\..\Views\Search\Index.cshtml"
         Write(Resources.Kesco_Persons_Web_VW_111);

            
            #line default
            #line hidden
WriteLiteral("</td>\r\n\t\t\t\t\t\t\t\t\t<td><input id=\"filterSettingsPersonType2\" name=\"filterSettingsPer" +
"sonType2\" type=\"checkbox\" value=\"2\" data-bind=\"\r\n\t\t\t\t\t\t\t\t\tenable: filterSettings" +
".PersonType.Enable,\r\n\t\t\t\t\t\t\t\t\tchecked: filterSettings.PersonType.Value\" /></td>\r" +
"\n\t\t\t\t\t\t\t\t\t<td>");


            
            #line 547 "..\..\Views\Search\Index.cshtml"
         Write(Resources.Kesco_Persons_Web_VW_113);

            
            #line default
            #line hidden
WriteLiteral("</td>\r\n\t\t\t\t\t\t\t\t\t<td><input id=\"filterSettingsPersonType3\" name=\"filterSettingsPer" +
"sonType3\" type=\"checkbox\" value=\"4\" data-bind=\"\r\n\t\t\t\t\t\t\t\t\tenable: filterSettings" +
".PersonType.Enable,\r\n\t\t\t\t\t\t\t\t\tchecked: filterSettings.PersonType.Value\" /></td>\r" +
"\n\t\t\t\t\t\t\t\t\t<td>");


            
            #line 551 "..\..\Views\Search\Index.cshtml"
         Write(Resources.Kesco_Persons_Web_VW_112);

            
            #line default
            #line hidden
WriteLiteral(@"</td>
								</tr>
							</table>
						</fieldset>

						<fieldset class=""ui-widget"" data-bind=""css: {'ui-state-highlight': filterSettings.Veracity.Enable}, disable: !filterSettings.Veracity.Editable()"">
							<legend class=""ui-widget-header"">
								<table cellpadding=""0"" cellspacing=""0"">
									<tr>
										<td><input class=""flag"" type=""checkbox"" title=""");


            
            #line 560 "..\..\Views\Search\Index.cshtml"
                                                     Write(Resources.Kesco_Persons_Web_VW_114);

            
            #line default
            #line hidden
WriteLiteral("\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   data-bind=\"checked: filterSettings.Veracity.Enable, disable: !f" +
"ilterSettings.Veracity.Editable()\"/></td>\r\n\t\t\t\t\t\t\t\t\t\t<td>");


            
            #line 562 "..\..\Views\Search\Index.cshtml"
          Write(Resources.Kesco_Persons_Web_VW_115);

            
            #line default
            #line hidden
WriteLiteral(@"</td>
									</tr>
								</table>
							</legend>
							<table cellpadding=""0"" cellspacing=""0"" data-bind=""visible: filterSettings.Veracity.Enable()"">
								<tr>
									<td><input type=""checkbox"" value=""1"" data-bind=""
									enable: filterSettings.Veracity.Enable,
									checked: filterSettings.Veracity.Value"" /></td>
									<td>");


            
            #line 571 "..\..\Views\Search\Index.cshtml"
         Write(Resources.Kesco_Persons_Web_VW_116);

            
            #line default
            #line hidden
WriteLiteral("</td>\r\n\t\t\t\t\t\t\t\t\t<td><input type=\"checkbox\" value=\"2\" data-bind=\"\r\n\t\t\t\t\t\t\t\t\tenable" +
": filterSettings.Veracity.Enable,\r\n\t\t\t\t\t\t\t\t\tchecked: filterSettings.Veracity.Val" +
"ue\" /></td>\r\n\t\t\t\t\t\t\t\t\t<td>");


            
            #line 575 "..\..\Views\Search\Index.cshtml"
         Write(Resources.Kesco_Persons_Web_VW_117);

            
            #line default
            #line hidden
WriteLiteral(@"</td>
								</tr>
							</table>
						</fieldset>

						<fieldset class=""ui-widget"" data-bind=""css: {'ui-state-highlight': filterSettings.BusinessProject.Enable}, disable: !filterSettings.BusinessProject.Editable(), visible: ViewModel.hasRolesForBProject"">
							<legend class=""ui-widget-header"">
								<table cellpadding=""0"" cellspacing=""0"">
									<tr>
										<td><input class=""flag"" type=""checkbox"" id=""BusinessProject_checkBox"" title=""");


            
            #line 584 "..\..\Views\Search\Index.cshtml"
                                                                                   Write(Resources.Kesco_Persons_Web_VW_119);

            
            #line default
            #line hidden
WriteLiteral("\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   data-bind=\"checked: filterSettings.BusinessProject.Enable, disa" +
"ble: !filterSettings.BusinessProject.Editable()\"/></td>\r\n\t\t\t\t\t\t\t\t\t\t<td>");


            
            #line 586 "..\..\Views\Search\Index.cshtml"
          Write(Resources.Kesco_Persons_Web_VW_118);

            
            #line default
            #line hidden
WriteLiteral(@"</td>
									</tr>
								</table>
							</legend>
							<table cellpadding=""0"" cellspacing=""0"" data-bind=""visible: filterSettings.BusinessProject.Enable()"">
								<tr>
									<td colspan=""2""><input type=""checkbox"" id=""AllBProject_checkBox"" data-bind=""
									enable: filterSettings.BusinessProject.Enable,
									checked: filterSettings.BusinessProject.AllBProject""/>
										");


            
            #line 595 "..\..\Views\Search\Index.cshtml"
      Write(Resources.Kesco_Persons_Web_VW_120);

            
            #line default
            #line hidden
WriteLiteral("</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<td nowrap=\"nowrap\">");


            
            #line 598 "..\..\Views\Search\Index.cshtml"
                         Write(Resources.Kesco_Persons_Web_VW_119);

            
            #line default
            #line hidden
WriteLiteral(":</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t");


            
            #line 600 "..\..\Views\Search\Index.cshtml"
     Write(Html.EditorFor(m => m.filterSettings.BusinessProject.Value,
											new { HtmlAttributes = new {
													 data_bind = "selectBoxEnabled: filterSettings.BusinessProject.Enable() && !filterSettings.BusinessProject.AllBProject()"
												 }
											}));

            
            #line default
            #line hidden
WriteLiteral(@"
									</td>
								</tr>
								<tr>
									<td>&nbsp;</td>
									<td><input type=""checkbox"" data-bind=""
									enable: filterSettings.BusinessProject.Enable() && !filterSettings.BusinessProject.AllBProject(),
									checked: filterSettings.BusinessProject.SubBProject""/>
										");


            
            #line 612 "..\..\Views\Search\Index.cshtml"
      Write(Resources.Kesco_Persons_Web_VW_121);

            
            #line default
            #line hidden
WriteLiteral("</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t");



WriteLiteral(@"
						<fieldset data-bind=""
							css: {'ui-state-highlight': filterSettings.PersonArea.Enable},
							disable: !filterSettings.PersonArea.Editable()"">
							<legend class=""ui-widget-header"">
								<table cellpadding=""0"" cellspacing=""0"">
									<tr>
										<td><input type=""checkbox"" title=""");


            
            #line 623 "..\..\Views\Search\Index.cshtml"
                                        Write(Resources.Kesco_Persons_Web_VW_122_1);

            
            #line default
            #line hidden
WriteLiteral("\" data-bind=\"\r\n\t\t\t\t\t\t\t\t\t\tchecked: filterSettings.PersonArea.Enable,\r\n\t\t\t\t\t\t\t\t\t\tdi" +
"sable: !filterSettings.PersonArea.Editable()\"/>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>" +
"");


            
            #line 627 "..\..\Views\Search\Index.cshtml"
          Write(Resources.Kesco_Persons_Web_VW_122);

            
            #line default
            #line hidden
WriteLiteral("</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</legend>\r\n\t\t\t\t\t\t\t<div data-bind=" +
"\"visible: filterSettings.PersonArea.Enable()\">\r\n\t\t\t\t\t\t\t\t");


            
            #line 632 "..\..\Views\Search\Index.cshtml"
   Write(Html.EditorFor(m => m.filterSettings.PersonArea.Value, 
									new { HtmlAttributes = new { data_bind = "selectBoxEnabled: filterSettings.PersonArea.Enable() && filterSettings.PersonArea.Editable()" } }));

            
            #line default
            #line hidden
WriteLiteral("\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t\t\t\t");



WriteLiteral(@"
						<fieldset class=""ui-widget"" data-bind=""
						css: {'ui-state-highlight': filterSettings.PersonOPForma.Enable},
						disable: !filterSettings.PersonOPForma.Editable()"">
							<legend class=""ui-widget-header"">
								<table cellpadding=""0"" cellspacing=""0"">
									<tr>
										<td><input type=""checkbox"" title=""");


            
            #line 643 "..\..\Views\Search\Index.cshtml"
                                        Write(Resources.Kesco_Persons_Web_VW_123_1);

            
            #line default
            #line hidden
WriteLiteral("\" data-bind=\"\r\n\t\t\t\t\t\t\t\t\t\t\tchecked: filterSettings.PersonOPForma.Enable,\r\n\t\t\t\t\t\t\t\t" +
"\t\t\tdisable: !filterSettings.PersonOPForma.Editable(),\r\n\t\t\t\t\t\t\t\t\t\t\tclick2: functi" +
"on() { $(\'#idSelect\').selectmenu(\'open\'); }\"/>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>");


            
            #line 648 "..\..\Views\Search\Index.cshtml"
          Write(Resources.Kesco_Persons_Web_VW_123);

            
            #line default
            #line hidden
WriteLiteral("</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</legend>\r\n\t\t\t\t\t\t\t<div id=\"idSele" +
"ctContainer\" data-bind=\"visible: filterSettings.PersonOPForma.Enable()\" style=\"\"" +
"> \r\n\t\t\t\t\t\t\t\t");



WriteLiteral(@"
								<select style=""width: 270px;"" id=""idSelect"" data-bind=""
									enable: filterSettings.PersonOPForma.Editable(),
									jqOptions: IncorporationForms,
									value: filterSettings.PersonOPForma.Value,
									optionsValue: 'ID',
									optionsText: 'Name'""></select>
							</div>
						</fieldset>

						");



WriteLiteral(@"
						<fieldset class=""ui-widget"" data-bind=""
						css: {'ui-state-highlight': filterSettings.PersonUsers.Enable},
						disable: !filterSettings.PersonUsers.Editable()"">
							<legend class=""ui-widget-header"">
								<table cellpadding=""0"" cellspacing=""0"" style=""width: 100%;"">
									<tr>
										<td><input type=""checkbox"" title=""");


            
            #line 671 "..\..\Views\Search\Index.cshtml"
                                        Write(Resources.Kesco_Persons_Web_VW_127);

            
            #line default
            #line hidden
WriteLiteral("\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata-bind=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked: filterSettings.PersonUsers.Enab" +
"le,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisable: !filterSettings.PersonUsers.Editable()\"/>\r\n\t\t\t\t\t\t\t\t\t\t" +
"</td>\r\n\t\t\t\t\t\t\t\t\t\t<td style=\"width: 100%;\">");


            
            #line 676 "..\..\Views\Search\Index.cshtml"
                               Write(Resources.Kesco_Persons_Web_VW_126);

            
            #line default
            #line hidden
WriteLiteral(@"</td>
										<td style=""width: 30px;"">
											<button type=""button"" data-bind=""
										click: openChooseEmployeesDialog,
										jqueryui: {widget: 'button', options: { disabled: !filterSettings.PersonUsers.Enable() || !filterSettings.PersonUsers.Editable(), text: false, icons: { primary: 'ui-icon-plus'} } }
									"" title=""");


            
            #line 681 "..\..\Views\Search\Index.cshtml"
              Write(Resources.Kesco_Persons_Web_VW_1002);

            
            #line default
            #line hidden
WriteLiteral(@""">&nbsp;</button>
										</td>
									</tr>
								</table>
							</legend>
							<div class=""ui-widget-content"" data-bind=""visible: filterSettings.PersonUsers.Enable()"">
								<table>
									<tbody data-bind=""foreach: filterSettings.PersonUsers.List"">
										<tr>
											<td>
												<a href=""javascript: void(0);"" data-bind=""
													visible: $root.filterSettings.PersonUsers.Editable,
													click: $root.removeResponsibleEmployee
												"" title=""");


            
            #line 694 "..\..\Views\Search\Index.cshtml"
                 Write(Resources.Kesco_Persons_Web_VW_1001);

            
            #line default
            #line hidden
WriteLiteral(@""">
												<span class=""ui-icon ui-icon-minus""></span></a>
											</td>
											<td >
												<a class=""employeeControl"" href=""javascript: void(0);"" data-actual=""true""
													data-bind=""
														attr: { id: 'PersonUsers_'+$data.ID(), alt: $data.FullName, title: $data.FullName },
														text: $data.FullName,
														click: function() {ViewModel.showUser($data.ID()); },
														dynamicLink: { 
															value: $data.ID, 
															source: '");


            
            #line 705 "..\..\Views\Search\Index.cshtml"
                    Write(Url.Action("GetItem", "EmployeeSelect"));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltipSource: \'");


            
            #line 706 "..\..\Views\Search\Index.cshtml"
                           Write(Configuration.AppSettings.URI_user_info);

            
            #line default
            #line hidden
WriteLiteral("\'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"></a></td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n" +
"\t\t\t\t\t\t\t\t\t<tbody data-bind=\"visible: filterSettings.PersonUsers.List().length == " +
"0\">\r\n\t\t\t\t\t\t\t\t\t\t<td style=\"width: 30px;\">&nbsp;</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>");


            
            #line 713 "..\..\Views\Search\Index.cshtml"
          Write(Resources.Kesco_Persons_Web_VW_128);

            
            #line default
            #line hidden
WriteLiteral("</td>\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</fieldset>\r\n\t\t\t" +
"\t\t\t");



WriteLiteral(@"
						<fieldset class=""ui-widget"" data-bind=""
						css: {'ui-state-highlight': filterSettings.PersonThemes.Enable},
						disable: !filterSettings.PersonThemes.Editable()"">
							<legend class=""ui-widget-header"">
								<table cellpadding=""0"" cellspacing=""0"" style=""width: 100%;"">
									<tr>
										<td><input type=""checkbox"" title=""");


            
            #line 725 "..\..\Views\Search\Index.cshtml"
                                        Write(Resources.Kesco_Persons_Web_VW_131);

            
            #line default
            #line hidden
WriteLiteral("\" data-bind=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked: filterSettings.PersonThemes.Enable,\r\n\t\t\t\t\t\t\t\t" +
"\t\t\t\tdisable: !filterSettings.PersonThemes.Editable()\"/>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t" +
"\t\t\t\t<td style=\"width: 100%;\">");


            
            #line 729 "..\..\Views\Search\Index.cshtml"
                               Write(Resources.Kesco_Persons_Web_VW_129);

            
            #line default
            #line hidden
WriteLiteral("</td>\r\n\t\t\t\t\t\t\t\t\t\t<td style=\"width: 30px;\">\r\n\t\t\t\t\t\t\t\t\t\t\t");



WriteLiteral(@"
											<button type=""button"" data-bind=""
													click: openChooseThemesDialog,
													jqueryui: {widget: 'button', options: { disabled: !filterSettings.PersonThemes.Enable() || !filterSettings.PersonThemes.Editable(), text: false, icons: { primary: 'ui-icon-plus'} } }""
												title=""");


            
            #line 735 "..\..\Views\Search\Index.cshtml"
               Write(Resources.Kesco_Persons_Web_VW_1003);

            
            #line default
            #line hidden
WriteLiteral(@""">&nbsp;</button>
										</td>
									</tr>
								</table>
							</legend>
							<div class=""ui-widget-content"" data-bind=""visible: filterSettings.PersonThemes.Enable()"">
								<table>
									<tbody data-bind=""foreach: filterSettings.PersonThemes.List"">
										<tr>
											<td style=""width: 20px;"">
												");



WriteLiteral("\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"javascript: void(0);\" data-bind=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible: $" +
"root.filterSettings.PersonThemes.Editable,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclick: $root.removeThem" +
"es\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"");


            
            #line 750 "..\..\Views\Search\Index.cshtml"
               Write(Resources.Kesco_Persons_Web_VW_1001);

            
            #line default
            #line hidden
WriteLiteral(@"""><span class=""ui-icon ui-icon-minus""></span></a></td>
											<td ><span data-bind=""text: $data.Name""></span>
											</td>
										</tr>
									</tbody>
									<tbody data-bind=""visible: filterSettings.PersonThemes.List().length == 0"">
										<tr>
											<td style=""width: 20px;"">&nbsp;</td>
											<td>");


            
            #line 758 "..\..\Views\Search\Index.cshtml"
           Write(Resources.Kesco_Persons_Web_VW_130);

            
            #line default
            #line hidden
WriteLiteral(@"</td></tr>
									</tbody>
									<tbody>
										<tr data-bind=""visible: filterSettings.PersonThemes.List().length != 0"">
											<td style=""width: 20px;"">&nbsp;</td>
											<td><input type=""checkbox"" data-bind=""
													enable: filterSettings.PersonThemes.Enable,
													checked: filterSettings.PersonThemes.Subthemes""
														/>");


            
            #line 766 "..\..\Views\Search\Index.cshtml"
            Write(Resources.Kesco_Persons_Web_VW_132);

            
            #line default
            #line hidden
WriteLiteral(@"</td>
										</tr>
									</tbody>
								</table>
							</div>
						</fieldset>

						<div style=""text-align: right;"">
							<a href=""javascript: void(0);"" data-bind=""
							jqueryui: { widget: 'button', options : { icons: { primary: 'ui-icon-cancel' } } },
							click: disableFilterSettings
							"">");


            
            #line 777 "..\..\Views\Search\Index.cshtml"
     Write(Resources.Kesco_Persons_Web_VW_147);

            
            #line default
            #line hidden
WriteLiteral("</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<div id=\"searchResult\"" +
" style=\"display: inline-block;overflow: auto;\">\r\n\t\t\t\t\t\t");



WriteLiteral("\r\n");


            
            #line 784 "..\..\Views\Search\Index.cshtml"
  						
			 
			 gridModel.Grid.ID = "searchResultGrid";
			 gridModel.Grid.Width = System.Web.UI.WebControls.Unit.Pixel(800);
			 gridModel.Grid.DataUrl = Url.Action("SearchPersonGridDataRequested");
			 gridModel.Grid.SortSettings.InitialSortColumn = "Nickname";
			 gridModel.Grid.PostData = Model.filterSettings.ToSearchParameters();
							
            
            #line default
            #line hidden

            
            #line 791 "..\..\Views\Search\Index.cshtml"
                                                                                        
			 gridModel.Grid.ClientSideEvents.AfterAjaxRequest = "searchResultGrid_UpdatePersonControls";
			 gridModel.Grid.ClientSideEvents.LoadDataError = "searchResultGrid_LoadDataError";
			 if (Request["return"] == "1") {
				 gridModel.Grid.Columns
					 .Where(c => c.DataField == "ID")
					 .All(c => {
						 c.HeaderText = "&nbsp;";
						 c.Visible = true;
						 c.TextAlign = Kesco.Web.Mvc.UI.Grid.TextAlign.Center;
						 c.Width = 30;
						 c.Formatter = new Kesco.Web.Mvc.UI.Grid.CustomFormatter {
							 FormatFunction = "formatColumn_ReturnValue"
						 };
						 return false;
					 });
			 }
						

            
            #line default
            #line hidden
WriteLiteral("\t\t\t\t\t\t");



WriteLiteral("\r\n\t\t\t\t\t\t");


            
            #line 810 "..\..\Views\Search\Index.cshtml"
 Write(Html.KescoGrid(gridModel.Grid));

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n");


            
            #line 816 "..\..\Views\Search\Index.cshtml"
	}

            
            #line default
            #line hidden
WriteLiteral("</div>\r\n\r\n");



WriteLiteral("\r\n");


            
            #line 820 "..\..\Views\Search\Index.cshtml"
  
	Html.RegisterScript(@"
		;(function(scope, $) {{
			// поиск страна регистрации 
			scope.ViewModel.filterSettings.PersonArea.Value.__SearchParameters.HowSearch(1); // начинается с
			scope.ViewModel.filterSettings.PersonArea.Value.__SearchParameters.AreaIDs.push(2); // является страной

			// поиск бизнес-проекта 
			scope.ViewModel.filterSettings.BusinessProject.Value.__SearchParameters.HowSearch(1); // начинается с
			$('#filterSettingsSearchValue').focus();
		
		}})(window, jQuery);
		
	");


            
            #line default
            #line hidden

DefineSection("Footer", () => {

WriteLiteral("\r\n");


            
            #line 836 "..\..\Views\Search\Index.cshtml"
Write(Html.CommonScriptCode("Persons_Search_Footer1",
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

            
            #line default
            #line hidden

WriteLiteralTo(@__razor_template_writer, "\t");

WriteLiteralTo(@__razor_template_writer, "<script>\r\n\t\t\t");



WriteLiteralTo(@__razor_template_writer, "\r\n\r\n\t\t\t");



WriteLiteralTo(@__razor_template_writer, @"
			function formatColumn_ReturnValue(value, options, rowObj) {
				var v = value;
				v = $.validator.format(
					""<a href='javascript: void(0);' class='returnValueLink' data-value='{0}' data-label='{1}'""
					+"" style='height: 20px !important; width: 20px !important;' title='{0}' ><span class='ui-icon ui-icon-circle-arrow-w ' ></span></a>""
					, v, escape(rowObj[6]));
				return v;
			}

			");



WriteLiteralTo(@__razor_template_writer, @"
			function formatSearchResultGridNicknameColumn(value, options, rowObj) {
				var v = value;
				var s = """";
				if (v) {
					s += ""<a href='javascript: void(0);' class='personControl' style='cursor: pointer' data-tip-pos-my='middle left' data-tip-pos-at='middle right' data-person-id='{0}'>{1}</a>"";
					v = $.validator.format(s, rowObj[0], v);
				}
				return v;
			}

			");



WriteLiteralTo(@__razor_template_writer, "\r\n\t\t\tfunction returnRow(rowID, label) {\r\n\t\t\t\tvar dialogResult = \"\";\r\n\t\t\t\tif (rowI" +
"D) {\r\n\t\t\t\t\tvar record = $(\"#");


            
            #line 865 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, gridModel.Grid.ID);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\").getRowData(rowID);\r\n\r\n\t\t\t\t\tdialogResult = [];\r\n\t\t\t\t\tdialogResult.push({\r\n\t\t\t\t\t" +
"\tvalue: rowID,\r\n\t\t\t\t\t\tlabel: unescape(label)\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tdialogRes" +
"ult = JSON.stringify(dialogResult);\r\n\t\t\t\t}\r\n");


            
            #line 875 "..\..\Views\Search\Index.cshtml"
 				if (Request["control"] != null) { 

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\t\t\t\t\t");

WriteLiteralTo(@__razor_template_writer, " closeDialogAndReturnValue(dialogResult);\r\n");


            
            #line 877 "..\..\Views\Search\Index.cshtml"
				} else {

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\t\t\t\t\t");

WriteLiteralTo(@__razor_template_writer, " var retVal = rowID + String.fromCharCode(31) + unescape(label);\r\n");



WriteLiteralTo(@__razor_template_writer, "\t\t\t\t\t");

WriteLiteralTo(@__razor_template_writer, " DialogPageReturn(retVal, 0);\r\n");


            
            #line 880 "..\..\Views\Search\Index.cshtml"
				}

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\t\t\t}\r\n\r\n\t\t\tfunction searchResultGrid_LoadDataError(xhr, status, err)\r\n\t\t\t{\r\n\t\t\t\ti" +
"f (window.console) {\r\n\t\t\t\t\tconsole.log(\"Grid Data Load Error: \", err);\r\n\t\t\t\t\tcon" +
"sole.log(\"\\t\\tresponse: \", xhr.responseText);\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t");



WriteLiteralTo(@__razor_template_writer, "\r\n\t\t\tfunction searchResultGrid_UpdatePersonControls(data) {\r\n\t\t\t\t$(\"#searchResult" +
"Grid .personControl\").each(function(index, item) {\r\n\t\t\t\t\t$(this).person({\r\n\t\t\t\t\t" +
"\tcontainer: $(document.body),\r\n\t\t\t\t\t\tvalue: $(this).data(\'person-id\')\r\n\t\t\t\t\t})\r\n" +
"\t\t\t\t\t.bind(\"click\", function(ev) {\r\n\t\t\t\t\t\tev.stopImmediatePropagation();\r\n\t\t\t\t\t\t" +
"//return false;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.each(function() {\r\n\t\t\t\t\t\tvar id = $(this).data(\'" +
"person-id\');\r\n\t\t\t\t\t\tvar self = this;\r\n\t\t\t\t\t\t$(this)\r\n\t\t\t\t\t\t\t.parent().parent().f" +
"ind(\"td\")\r\n\t\t\t\t\t\t\t\t.bind(\"click\", function(ev) {\r\n\t\t\t\t\t\t\t\t\tif (!ev.isImmediatePr" +
"opagationStopped()) {\r\n\t\t\t\t\t\t\t\t\t\twindow.ViewModel.showPerson(id);\r\n\t\t\t\t\t\t\t\t\t    " +
"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\t$(\"#searchResultGrid .returnVal" +
"ueLink\")\r\n\t\t\t\t\t.bind(\"click\", function(ev) {\r\n\t\t\t\t\t\tvar $this = $(this);\r\n\t\t\t\t\t\t" +
"setTimeout(function() { returnRow($this.data(\"value\"), $this.data(\"label\")); }, " +
"100);\r\n\t\t\t\t\t\tev.stopImmediatePropagation();\r\n\t\t\t\t\t\t//return false;\r\n\t\t\t\t\t});\r\n\t\t" +
"\t}\r\n\r\n\t\t\tko.extenders.integer2 = function(target, defaultValue) {\r\n\t\t\t\t//create " +
"a writeable computed observable to intercept writes to our observable\r\n\t\t\t\tvar r" +
"esult = ko.computed({\r\n\t\t\t\t\tread: target,  //always return the original observab" +
"les value\r\n\t\t\t\t\twrite: function(newValue) {\r\n\t\t\t\t\t\tvar current = target(),\r\n\t\t\t\t" +
"\t\t\tintVal = parseInt(newValue),\r\n\t\t\t\t\t\t\tvalueToWrite = isNaN(intVal) ? defaultVa" +
"lue : intVal;\r\n \r\n\t\t\t\t\t\t//only write if it changed\r\n\t\t\t\t\t\tif (valueToWrite != cu" +
"rrent) {\r\n\t\t\t\t\t\t\ttarget(valueToWrite);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//if the rounded " +
"value is the same, but a different value was written, force a notification for t" +
"he current field\r\n\t\t\t\t\t\t\tif (newValue != current) {\r\n\t\t\t\t\t\t\t\ttarget.notifySubscr" +
"ibers(valueToWrite);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n \r\n\t\t\t\t//initialize wi" +
"th current value to make sure it is rounded appropriately\r\n\t\t\t\tresult(target());" +
"\r\n \r\n\t\t\t\t//return the new computed observable\r\n\t\t\t\treturn result;\r\n\t\t\t};\r\n\r\n\t\t\t$" +
"(document).ready(function () {\r\n\r\n\r\n\t\t\t\tvar $grid = $(\"#");


            
            #line 956 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, gridModel.Grid.ID);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, @""");

				var resizeContainer = function () {
					$(""#filter"").height($(""#container"").height() - $(""#searchQuery"").height() - 20);
					$(""#searchResult"")
						.width($(""#container"").width() - $(""#filter"").width() - 20)
						.height($(""#container"").height() - $(""#searchQuery"").height() - 20);
					var $parent = $('#gbox_");


            
            #line 963 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, gridModel.Grid.ID);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\').parent();\r\n\t\t\t\t\t$grid.setGridHeight($parent.height() - 60, true);\r\n\t\t\t\t\t$grid." +
"setGridWidth($parent.width() - 10, true);\r\n\t\t\t\t};\r\n\t\t\t\t$(window).resize(resizeCo" +
"ntainer);\r\n\t\t\t});\r\n\t</script>");


            
            #line 969 "..\..\Views\Search\Index.cshtml"
        })));

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n\t");


            
            #line 971 "..\..\Views\Search\Index.cshtml"
Write(Html.ScriptCode(
item => new System.Web.WebPages.HelperResult(__razor_template_writer => {

            
            #line default
            #line hidden

WriteLiteralTo(@__razor_template_writer, "\t");

WriteLiteralTo(@__razor_template_writer, @"<script>
		;(function($, undefined) { //closure

            if(ViewModel.Params.PersonPageSize() == 0 || ViewModel.Params.PersonPageSize() == null || ViewModel.Params.PersonPageSize() == '')
            {
			    ViewModel.Params.PersonPageSize = ViewModel.Params.PersonPageSize.extend({ integer2: 30 });
            }
            $(""#");


            
            #line 979 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, gridModel.Grid.ID);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\").setGridParam({ rowNum:ViewModel.Params.PersonPageSize(), rowList: [ViewModel.P" +
"arams.PersonPageSize()] });\r\n\t\t\t$(\"<input size=\'3\' class=\'ui-pg-inpbox2\' type=\'t" +
"ext\' data-bind=\'value: Params.PersonPageSize\' />\")\r\n\t\t\t\t.insertBefore($(\'#");


            
            #line 981 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, gridModel.Grid.ID);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "_pager .ui-pg-selbox\').hide());\r\n\t\t\t\t\t\t\r\n\t\t\tViewModel.Params.PersonPageSize.subsc" +
"ribe(function(newVal) {\r\n\t\t\t\t$(\"#");


            
            #line 984 "..\..\Views\Search\Index.cshtml"
WriteTo(@__razor_template_writer, gridModel.Grid.ID);

            
            #line default
            #line hidden
WriteLiteralTo(@__razor_template_writer, "\").setGridParam({ rowNum:newVal, rowList: [newVal] });\r\n\t\t\t});\r\n\r\n\t\t})(jQuery);\r\n" +
"\r\n\t\tvar resizeSelect = function () {\r\n\t\t");



WriteLiteralTo(@__razor_template_writer, "\r\n\t\t\t$(\"#idSelect-button\").width($(\"#idSelectContainer\").width() - 10);\r\n\t\t};\r\n\r\n" +
"\t\tViewModel.ResizeOPFormaSelect = resizeSelect;\r\n\t\t$(window).resize(resizeSelect" +
");\r\n\t</script>");


            
            #line 996 "..\..\Views\Search\Index.cshtml"
        })));

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n\t");



WriteLiteral("\r\n");


            
            #line 999 "..\..\Views\Search\Index.cshtml"
  	Html.RegisterCommonScriptCode( "Dossier_beforeunload", @"
		$(window).on('beforeunload', function(){
			prepareParams();
			return;
		});
	" );

            
            #line default
            #line hidden

});

WriteLiteral("\r\n");


        }
    }
}
#pragma warning restore 1591
