#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     Этот код создан программой.
//     Исполняемая версия:4.0.30319.42000
//
//     Изменения в этом файле могут привести к неправильной работе и будут потеряны в случае
//     повторной генерации кода.
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 4 "..\..\Views\Dossier\LinksEmpls.cshtml"
    using Kesco.Persons.Web.Models.Dossier;
    
    #line default
    #line hidden
    
    #line 3 "..\..\Views\Dossier\LinksEmpls.cshtml"
    using Kesco.Web.Mvc;
    
    #line default
    #line hidden
    using MvcJqGrid;
    
    #line 2 "..\..\Views\Dossier\LinksEmpls.cshtml"
    using Resources;
    
    #line default
    #line hidden
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/Dossier/LinksEmpls.cshtml")]
    public partial class _Views_Dossier_LinksEmpls_cshtml : Kesco.Persons.Web.SiteViewPage<Kesco.Persons.Web.Models.Dossier.DossierSectionContext>
    {
        public _Views_Dossier_LinksEmpls_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 5 "..\..\Views\Dossier\LinksEmpls.cshtml"
  
	int personID = Model.ViewModel.Model.PersonID;
	string url = Model.Section.GetURL(Model.ViewModel.Model.PersonID);
	int accessLevel = (int)Model.ViewModel.AccessLevel;
	var sectionID = Model.Section.ID.ToString();
	var currentAccess = Model.AccessGranted;
	var items = Model.ViewModel.LinkedUsersUnder;

	if (items.Count == 0) {Html.DossierClientSideScript_HideSection(Model.Section.ID);}
    /* Ищем в URL параметр hideOldVer, пишем его в сессию. Требуется для скрытия кнопки "Открыть в старой версии"  */
    string hideOldVerRequest = HttpContext.Current.Request["hideOldVer"];
    var hideOldVerSession = HttpContext.Current.Session["hideOldVer"];
    string hideOldVer = "false";

    if (!String.IsNullOrEmpty(hideOldVerRequest))
    {
        HttpContext.Current.Session["hideOldVer"] = hideOldVer = hideOldVerRequest;
    }
    else if (hideOldVerSession != null)
    {
        hideOldVer = hideOldVerSession.ToString();
    }
	Html.DossierClientSideScript_EditLink(sectionID.ToString(), url);

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n");

            
            #line 30 "..\..\Views\Dossier\LinksEmpls.cshtml"
 foreach (var item in items) {

            
            #line default
            #line hidden
WriteLiteral("\t<tr");

WriteAttribute("class", Tuple.Create(" class=\"", 1250), Tuple.Create("\"", 1283)
, Tuple.Create(Tuple.Create("", 1258), Tuple.Create("hoverable", 1258), true)
, Tuple.Create(Tuple.Create(" ", 1267), Tuple.Create("dsl", 1268), true)
            
            #line 31 "..\..\Views\Dossier\LinksEmpls.cshtml"
, Tuple.Create(Tuple.Create("", 1271), Tuple.Create<System.Object, System.Int32>(sectionID
            
            #line default
            #line hidden
, 1271), false)
);

WriteLiteral(">\r\n\t\t<td");

WriteLiteral(" colspan=\"2\"");

WriteLiteral(" style=\"padding-left: 20px;\"");

WriteLiteral(">\r\n");

            
            #line 33 "..\..\Views\Dossier\LinksEmpls.cshtml"
			
            
            #line default
            #line hidden
            
            #line 33 "..\..\Views\Dossier\LinksEmpls.cshtml"
             if (currentAccess>0) {

            
            #line default
            #line hidden
WriteLiteral("\t\t\t<a");

WriteLiteral(" href=\"javascript: void(0);\"");

WriteAttribute("onclick", Tuple.Create("\r\n\t\t\t\tonclick=\"", 1396), Tuple.Create("\"", 1481)
, Tuple.Create(Tuple.Create("", 1411), Tuple.Create("dossierEditLink_", 1411), true)
            
            #line 35 "..\..\Views\Dossier\LinksEmpls.cshtml"
, Tuple.Create(Tuple.Create("", 1427), Tuple.Create<System.Object, System.Int32>(sectionID
            
            #line default
            #line hidden
, 1427), false)
, Tuple.Create(Tuple.Create("", 1439), Tuple.Create("(", 1439), true)
            
            #line 35 "..\..\Views\Dossier\LinksEmpls.cshtml"
, Tuple.Create(Tuple.Create("", 1440), Tuple.Create<System.Object, System.Int32>(item.ID
            
            #line default
            #line hidden
, 1440), false)
, Tuple.Create(Tuple.Create("", 1450), Tuple.Create(",", 1450), true)
            
            #line 35 "..\..\Views\Dossier\LinksEmpls.cshtml"
, Tuple.Create(Tuple.Create(" ", 1451), Tuple.Create<System.Object, System.Int32>(sectionID
            
            #line default
            #line hidden
, 1452), false)
, Tuple.Create(Tuple.Create("", 1464), Tuple.Create(",", 1464), true)
            
            #line 35 "..\..\Views\Dossier\LinksEmpls.cshtml"
, Tuple.Create(Tuple.Create(" ", 1465), Tuple.Create<System.Object, System.Int32>(hideOldVer
            
            #line default
            #line hidden
, 1466), false)
, Tuple.Create(Tuple.Create("", 1479), Tuple.Create(");", 1479), true)
);

WriteAttribute("title", Tuple.Create("\r\n\t\t\t\ttitle=\"", 1482), Tuple.Create("\"", 1565)
            
            #line 36 "..\..\Views\Dossier\LinksEmpls.cshtml"
, Tuple.Create(Tuple.Create("", 1495), Tuple.Create<System.Object, System.Int32>(Kesco.Web.Mvc.UI.Controls.Localization.Resources.GUI_Menu_Edit_Edit
            
            #line default
            #line hidden
, 1495), false)
);

WriteLiteral("\r\n\t\t\t\t><span");

WriteLiteral(" class=\"ui-icon ui-icon-pencil text-ui-icon\"");

WriteLiteral("></span>\r\n\t\t\t</a>\r\n");

            
            #line 39 "..\..\Views\Dossier\LinksEmpls.cshtml"
			}

            
            #line default
            #line hidden
WriteLiteral("\t\t\t");

            
            #line 40 "..\..\Views\Dossier\LinksEmpls.cshtml"
       Write(Html.DisplayFor(m => item.LinkID, "PersonStatic", new {
				TooltipPositionMy = "middle left", TooltipPositionAt = "middle right",
				InitialLabel = HL(item.LinkText)
			}));

            
            #line default
            #line hidden
WriteLiteral(" \r\n");

WriteLiteral("\t\t\t");

            
            #line 44 "..\..\Views\Dossier\LinksEmpls.cshtml"
       Write(Html.Raw(HL(item.Label)));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

            
            #line 45 "..\..\Views\Dossier\LinksEmpls.cshtml"
			
            
            #line default
            #line hidden
            
            #line 45 "..\..\Views\Dossier\LinksEmpls.cshtml"
             if (item.Order == 200) {

            
            #line default
            #line hidden
WriteLiteral("\t\t\t\t<div");

WriteLiteral(" class=\"error\"");

WriteLiteral(" style=\"font-size: .8em;\"");

WriteLiteral(">");

            
            #line 46 "..\..\Views\Dossier\LinksEmpls.cshtml"
                                                       Write(Resources.Persons_Dossier_NoEmployee);

            
            #line default
            #line hidden
WriteLiteral("</div>\r\n");

            
            #line 47 "..\..\Views\Dossier\LinksEmpls.cshtml"
			}
			else if (item.Order == 300) {

            
            #line default
            #line hidden
WriteLiteral("\t\t\t\t<div");

WriteLiteral(" class=\"error\"");

WriteLiteral(" style=\"font-size: .8em;\"");

WriteLiteral(">");

            
            #line 49 "..\..\Views\Dossier\LinksEmpls.cshtml"
                                                       Write(Resources.Persons_Dossier_EmployeeHasNoPost);

            
            #line default
            #line hidden
WriteLiteral("</div>\r\n");

            
            #line 50 "..\..\Views\Dossier\LinksEmpls.cshtml"
			}

            
            #line default
            #line hidden
WriteLiteral("\t\t</td>\r\n\t\t<td");

WriteLiteral(" class=\"changed\"");

WriteLiteral(">\r\n");

WriteLiteral("\t\t\t");

            
            #line 53 "..\..\Views\Dossier\LinksEmpls.cshtml"
       Write(Html.DisplayFor(m => item.ChangedBy, "EmployeeStatic", new {
				TooltipPositionMy = "middle right", TooltipPositionAt = "middle left",
				InitialLabel = HL(item.ChangedByFIO) }));

            
            #line default
            #line hidden
WriteLiteral(" \r\n\t\t\t<span>");

            
            #line 56 "..\..\Views\Dossier\LinksEmpls.cshtml"
              Write(item.ChangedDate);

            
            #line default
            #line hidden
WriteLiteral("</span>\r\n\t\t</td>\r\n\t</tr>\r\n");

            
            #line 59 "..\..\Views\Dossier\LinksEmpls.cshtml"
	foreach (var contactGroup in item.Contacts) {
		int i = 0;
		foreach (var contact in contactGroup.Items) {

            
            #line default
            #line hidden
WriteLiteral("\t\t<tr");

WriteAttribute("class", Tuple.Create(" class=\"", 2520), Tuple.Create("\"", 2561)
, Tuple.Create(Tuple.Create("", 2528), Tuple.Create("hoverable", 2528), true)
, Tuple.Create(Tuple.Create(" ", 2537), Tuple.Create("contact", 2538), true)
, Tuple.Create(Tuple.Create(" ", 2545), Tuple.Create("dsl", 2546), true)
            
            #line 62 "..\..\Views\Dossier\LinksEmpls.cshtml"
, Tuple.Create(Tuple.Create("", 2549), Tuple.Create<System.Object, System.Int32>(sectionID
            
            #line default
            #line hidden
, 2549), false)
);

WriteLiteral(">\r\n\t\t\t<td");

WriteLiteral(" style=\"padding-left: 20px; width:140px;\"");

WriteLiteral(">");

            
            #line 63 "..\..\Views\Dossier\LinksEmpls.cshtml"
                                                          if (i++ == 0){
            
            #line default
            #line hidden
            
            #line 63 "..\..\Views\Dossier\LinksEmpls.cshtml"
                                                                    Write(contactGroup.Caption + ":");

            
            #line default
            #line hidden
            
            #line 63 "..\..\Views\Dossier\LinksEmpls.cshtml"
                                                                                                     } else{
            
            #line default
            #line hidden
            
            #line 63 "..\..\Views\Dossier\LinksEmpls.cshtml"
                                                                                                       Write(Html.Raw("&nbsp;"));

            
            #line default
            #line hidden
            
            #line 63 "..\..\Views\Dossier\LinksEmpls.cshtml"
                                                                                                                               }
            
            #line default
            #line hidden
WriteLiteral("</td>\r\n\t\t\t<td>\r\n");

            
            #line 65 "..\..\Views\Dossier\LinksEmpls.cshtml"
				
            
            #line default
            #line hidden
            
            #line 65 "..\..\Views\Dossier\LinksEmpls.cshtml"
                 if (accessLevel >= 2 && currentAccess > 0) {

            
            #line default
            #line hidden
WriteLiteral("\t\t\t\t<a");

WriteLiteral(" href=\"javascript: void(0);\"");

WriteAttribute("onclick", Tuple.Create("\r\n\t\t\t\t\tonclick=\"", 2785), Tuple.Create("\"", 2857)
, Tuple.Create(Tuple.Create("", 2801), Tuple.Create("editContact(", 2801), true)
            
            #line 67 "..\..\Views\Dossier\LinksEmpls.cshtml"
, Tuple.Create(Tuple.Create("", 2813), Tuple.Create<System.Object, System.Int32>(contact.ID
            
            #line default
            #line hidden
, 2813), false)
, Tuple.Create(Tuple.Create("", 2826), Tuple.Create(",", 2826), true)
            
            #line 67 "..\..\Views\Dossier\LinksEmpls.cshtml"
, Tuple.Create(Tuple.Create(" ", 2827), Tuple.Create<System.Object, System.Int32>(sectionID
            
            #line default
            #line hidden
, 2828), false)
, Tuple.Create(Tuple.Create("", 2840), Tuple.Create(",", 2840), true)
            
            #line 67 "..\..\Views\Dossier\LinksEmpls.cshtml"
, Tuple.Create(Tuple.Create(" ", 2841), Tuple.Create<System.Object, System.Int32>(hideOldVer
            
            #line default
            #line hidden
, 2842), false)
, Tuple.Create(Tuple.Create("", 2855), Tuple.Create(");", 2855), true)
);

WriteAttribute("title", Tuple.Create("\r\n\t\t\t\t\ttitle=\"", 2858), Tuple.Create("\"", 2942)
            
            #line 68 "..\..\Views\Dossier\LinksEmpls.cshtml"
, Tuple.Create(Tuple.Create("", 2872), Tuple.Create<System.Object, System.Int32>(Kesco.Web.Mvc.UI.Controls.Localization.Resources.GUI_Menu_Edit_Edit
            
            #line default
            #line hidden
, 2872), false)
);

WriteLiteral("\r\n\t\t\t\t\t><span");

WriteLiteral(" class=\"ui-icon ui-icon-pencil text-ui-icon\"");

WriteLiteral("></span></a>\r\n");

            
            #line 70 "..\..\Views\Dossier\LinksEmpls.cshtml"
				}

            
            #line default
            #line hidden
WriteLiteral("\t\t\t\t");

            
            #line 71 "..\..\Views\Dossier\LinksEmpls.cshtml"
           Write(Html.DisplayFor(m => contact.ContactText, GetControlNameByContactType(contact.ContactTypeID), new {
					PhoneNumber = contact.PhoneNumber,
                    CID = contact.PersonID,
                    CType = 3,
                    PhoneIcon= contact.Icon
				}));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

            
            #line 77 "..\..\Views\Dossier\LinksEmpls.cshtml"
				
            
            #line default
            #line hidden
            
            #line 77 "..\..\Views\Dossier\LinksEmpls.cshtml"
                 if(contact.Comment.Length > 0){
            
            #line default
            #line hidden
            
            #line 77 "..\..\Views\Dossier\LinksEmpls.cshtml"
                                           Write(Html.Raw("("));

            
            #line default
            #line hidden
            
            #line 77 "..\..\Views\Dossier\LinksEmpls.cshtml"
                                                               
            
            #line default
            #line hidden
            
            #line 77 "..\..\Views\Dossier\LinksEmpls.cshtml"
                                                           Write(contact.Comment);

            
            #line default
            #line hidden
            
            #line 77 "..\..\Views\Dossier\LinksEmpls.cshtml"
                                                                                  
            
            #line default
            #line hidden
            
            #line 77 "..\..\Views\Dossier\LinksEmpls.cshtml"
                                                                             Write(Html.Raw(")"));

            
            #line default
            #line hidden
            
            #line 77 "..\..\Views\Dossier\LinksEmpls.cshtml"
                                                                                                }

            
            #line default
            #line hidden
WriteLiteral("\t\t\t\t");

            
            #line 78 "..\..\Views\Dossier\LinksEmpls.cshtml"
                 if(contact.LinkedPersonText.Length > 0){

            
            #line default
            #line hidden
WriteLiteral("\t\t\t\t\t<span");

WriteLiteral(" class=\'clGray\'");

WriteLiteral("> ");

            
            #line 79 "..\..\Views\Dossier\LinksEmpls.cshtml"
                                      Write(contact.LinkedPersonText);

            
            #line default
            #line hidden
WriteLiteral(" </span>\r\n");

            
            #line 80 "..\..\Views\Dossier\LinksEmpls.cshtml"
				}

            
            #line default
            #line hidden
WriteLiteral("\t\t\t</td>\r\n\t\t\t<td");

WriteLiteral(" class=\"changed\"");

WriteLiteral(">\r\n");

WriteLiteral("\t\t\t\t");

            
            #line 83 "..\..\Views\Dossier\LinksEmpls.cshtml"
           Write(Html.DisplayFor(m => contact.ChangedBy, "EmployeeStatic", new {
					TooltipPositionMy = "middle right", TooltipPositionAt = "middle left",
					InitialLabel = contact.ChangedByFIO }));

            
            #line default
            #line hidden
WriteLiteral(" \r\n\t\t\t\t<span>");

            
            #line 86 "..\..\Views\Dossier\LinksEmpls.cshtml"
                  Write(contact.ChangedDate);

            
            #line default
            #line hidden
WriteLiteral("</span>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n");

            
            #line 89 "..\..\Views\Dossier\LinksEmpls.cshtml"
		}
	}
}

            
            #line default
            #line hidden
        }
    }
}
#pragma warning restore 1591
